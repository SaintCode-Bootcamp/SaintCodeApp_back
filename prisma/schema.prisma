generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL_TEST")
}

type TaskAnswers {
  q1 TaskAnswersQ1
  q2 TaskAnswersQ2
  q3 TaskAnswersQ3
  q4 TaskAnswersQ4
  q5 TaskAnswersQ5?
}

type TaskAnswersQ1 {
  is_correct Boolean
  title      String
}

type TaskAnswersQ2 {
  is_correct Boolean
  title      String
}

type TaskAnswersQ3 {
  is_correct Boolean
  title      String
}

type TaskAnswersQ4 {
  is_correct Boolean
  title      String
}

type TaskAnswersQ5 {
  is_correct Boolean
  title      String
}

model chapter {
  id        String @id @default(auto()) @map("_id") @db.ObjectId
  course_id String
  desc      String
  order     Int
  title     String
}

model chapter_level {
  id         String  @id @default(auto()) @map("_id") @db.ObjectId
  chapter_id String
  is_draft   Boolean? @default(value: true)
  order      Int
  title      String
}

model course {
  id    String @id @default(auto()) @map("_id") @db.ObjectId
  desc  String?
  title String
}

model lecture {
  id           String   @id @default(auto()) @map("_id") @db.ObjectId
  content      String
  created_at   DateTime @db.Date @default(value: now())
  created_by   String
  is_draft     Boolean
  time_to_read BigInt @default(value: 0)
  title        String
  updated_at   DateTime @db.Date @updatedAt
}

model level_content {
  id               String  @id @default(auto()) @map("_id") @db.ObjectId
  chapter_level_id String
  lecture_id       String?
  order            Int
  task_id          String?
}

model task {
  id      String       @id @default(auto()) @map("_id") @db.ObjectId
  answers TaskAnswers?
  content String?
  correct String?
  display String?
  tags    String[]
  title   String
  type    String
}

model user {
  id           String   @id @default(auto()) @map("_id") @db.ObjectId
  accessToken  String
  created_at   DateTime? @db.Date @default(value: now())
  email        String?
  expires      DateTime? @db.Date
  github_id    String?
  google_id    String?
  image_github String?
  last_log_in  DateTime? @db.Date
  name         String
}

model user_level_stat {
  id               String   @id @default(auto()) @map("_id") @db.ObjectId
  attemp_count     BigInt? @default(value: 0)
  end_at           DateTime? @db.Date
  is_complete      Boolean? @default(value: false)
  level_content_id String
  pause_at         DateTime? @db.Date @updatedAt
  start_at         DateTime? @db.Date @default(value: now())
  user_id          String
}
